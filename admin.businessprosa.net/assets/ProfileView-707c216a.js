import{d as g,j as v,w as k,u as P,l as C,r as h,o as l,m as n,h as e,f as c,i as t,t as i,e as S,n as w,p as I,s as N,b as A,q as D,A as E}from"./index-c06c0c49.js";const H={class:"my-3"},B=e("div",{class:"w-full p-5 relative overflow-hidden border-round",style:{"background-image":"linear-gradient(180deg, #c94b6287 0%, #ec4dbc84 100%)",height:"30vh","border-bottom-left-radius":"0px !important","border-bottom-right-radius":"0px !important"}},null,-1),V={class:"w-full border-round-bottom p-5 relative userImage",style:{"background-color":"var(--color-dialog)"}},R={class:"ml-4 pt-5 mt-4 px-2"},T={class:"font-bold text-4xl"},U={class:"py-2"},q={class:"flex flex-row p-0 m-0",style:{"list-style":"disc",color:"#898989"}},F={class:"list-none mr-3"},J={class:"text-white"},M={class:"mx-2"},O={class:"text-white"},$={class:"py-4 flex buttons"},L={class:"my-5 bg-card p-4 border-round"},z=e("h1",{class:"my-2"},"Owned Roles",-1),G={key:0,class:"w-7 flex flex-wrap"},K={key:1},Q=e("h1",{class:"text-primary text-center p-5 m-auto"},"There are no owned roles yet!",-1),W=[Q],j=g({__name:"ProfileView",async setup(X){let u,_;const f=v();[u,_]=k(()=>f.init()),await u,_();const{t:d}=P(),s=JSON.parse(localStorage.getItem("user"));C();let x=new Date(s==null?void 0:s.createdAt).toDateString();console.log(s);const y={title:"Security",options:{isBulkCreateHidden:!0,isFormTransparent:!1,isSuccessNotificationHidden:!1,successMessageSummary:"password_reset_successfull",successMessageDetail:"password_reset_successfull_details",isHeaderSubmitHidden:!0},submitHandler:{endpoint:p=>new Promise((m,r)=>{N.auth.updateUser({password:p.password}).then(o=>{o.error?r(new Error("reset_pw_invalid")):A.userResetPassword({userEmail:o.data.user.email,userPassword:p.password}).then(a=>{m(a)}).catch(a=>{r(a)})}).catch(o=>{r(o)})})},sections:{"Reset Password":{isTransparent:!1,inputs:[{$formkit:"password",prefixIcon:"password",outerClass:"col-12 md:col-6",validation:"required",name:"password",placeholder:d("enter your new password"),label:d("password")},{$formkit:"password",prefixIcon:"password",outerClass:"col-12 md:col-6",validation:"required|password|confirm",name:"password_confirm",placeholder:d("please re-enter your new password"),label:d("confirm password")}]}}};return(p,m)=>{const r=h("app-image"),o=h("router-link");return l(),n(w,null,[e("div",H,[B,e("div",V,[c(r,{src:t(s).userImage,preview:"",alt:"profile pic",class:"absolute",style:{top:"-130px",left:"40px"}},null,8,["src"]),e("div",R,[e("h1",T,i(t(s).userName),1),e("h3",U,i(t(s).userEmail),1),e("ul",q,[e("li",F,[e("h3",J,i(t(s).userPhone),1)]),e("li",M,[e("h3",O,"Joined at "+i(t(x)),1)])]),e("div",$,[c(o,{class:"edit",to:{name:"user_update",params:{id:t(s).userId}}},{default:S(()=>[c(t(D),{label:"Edit Personal Data",raised:""})]),_:1},8,["to"])])])])]),e("div",L,[z,t(s).roles.length>0?(l(),n("div",G,[(l(!0),n(w,null,I(t(s).roles,(a,b)=>(l(),n("h3",{class:"p-2 px-3 border-round my-1 mx-1",key:b,style:{color:"#256029","background-color":"#c8e6c9d3"}},i(a.roleName),1))),128))])):(l(),n("div",K,W))]),c(t(E),{context:y})],64)}}});export{j as default};
